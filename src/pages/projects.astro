---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import { projects } from "../data/projectsData.astro";
---

<Layout>
    <Navbar />
    <main class="pt-4 flex justify-center">
        <div id="carousel" class="carousel w-212 h-[88vh] scroll-smooth overflow-auto flex flex-col gap-24 items-center">
            {projects.map((project) => (
                <section class="sectionProject px-8 w-4/5 h-full flex flex-col gap-12 justify-center items-center xl:w-200">
                    <div class="max-w-160 flex flex-col gap-4 lg:text-lg">
                        <h2 class="text-3xl font-semibold">{project.title}</h2>
                        <p class="whitespace-pre-line">{project.description}</p>
                    </div>

                    <a href={`/project/${project.title}`}>
                        <picture>
                            <img
                                src={project.images[0].ref}
                                alt={project.title}
                                class="image w-full h-fit transition-transform bg-white duration-200 rounded-2xl flex items-center justify-center"
                            />
                        </picture>
                    </a>
                </section>
            ))}
        </div>
    </main>
</Layout>

<style>
    @media (max-width: 719px) {
        h2 {
            font-size: 20px;
            line-height: 1.1666;
        }

        p {
            font-size: 12px;
            line-height: 1.25;
        }

        .carousel {
            height: fit-content;
            flex-direction: column;
        }

        .sectionProject {
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
            width: 100%;
            flex-shrink: 0;
        }

        main {
            padding-top: 1.5rem;
        }
    }
    @media (min-width: 720px) {
        h2 {
            font-size: 40px;
            line-height: 1.1111;
        }

        p {
            font-size: 24px;
            line-height: 1.4;
        }
    }

    @media (min-width: 1080px) {
        h2 {
            font-size: 48px;
            line-height: 1.2;
        }

        p {
            font-size: 28px;
            line-height: 1.4;
        }
    }

    @media (min-width: 1280px) {
        h2 {
            font-size: 28px;
            line-height: 1.2;
        }

        p {
            font-size: 14px;
            line-height: 1.5;
        }

        .carousel {
            height: fit-content;
            flex-direction: row;
        }

        .image {
            width: 30rem;
        }

        .sectionProject {
            padding-top: 2rem;
            padding-bottom: 2rem;
            height: 34rem;
            width: 52rem;
            flex-shrink: 0;
        }

        main {
            padding-top: 2rem;
        }
    }

    @media (min-width: 1920px) {
        h2 {
            font-size: 32px;
            line-height: 1.5;
        }
        p {
            font-size: 16px;
            line-height: 1.4;
        }
        .sectionProject {
            height: 42rem;
        }
        .image {
            width: 80%;
        }
        picture {
            display: flex;
            justify-content: center;
        }
    }

    .image:hover {
        transform: scale(105%);
        box-shadow: 0px 2px 18px rgb(133, 132, 202);
        cursor: pointer;
    }
</style>

<script>
  // Scroll horizontal usando la rueda del mouse
  const el = document.getElementById("carousel");

  el!.addEventListener("wheel", (e) => {
    e.preventDefault();
    el!.scrollLeft += e.deltaY*9.35; // mueve horizontal con la ruedita
  });
</script>